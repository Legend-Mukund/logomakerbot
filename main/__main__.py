from pyrogram import filters 
from main import bot, support 
from pyrogram.types import *
from main.makelogo import generate_logo

No_text = """  ú·¥è·¥° ·¥Ñ·¥Ä…¥ …™ ·¥Ñ Ä·¥á·¥Ä·¥õ·¥á ·¥Ä  ü·¥è…¢·¥è 
·¥°…™·¥õ ú·¥è·¥ú·¥õ ·¥Ä…¥ è «´·¥ú·¥á Ä è ·¥ò üs  “ì·¥è ü ü·¥è·¥° ·¥è·¥ú Ä ·¥õ è·¥ò·¥á:

~ /logo {yourname}

if comes error pls contact {}
"""

@bot.on_message(filters.command("logo"))
async def makelogo(_, message):
      if len(message.command) <2:
         await message.reply_text(No_text)
         return 
      text = message.text.split(None, 1)[1]
      x = await message.reply_text("`üîç Generating Logo For You...`")  
      logo = generate_logo(text)
      if "telegra.ph" not in logo:
         return await x.edit("`‚ùå Something Went Wrong...`\n\nReport This Error In @TechZBots_Support")
      
      if "error" in logo:
         return await x.edit(f"`‚ùå Something Went Wrong...`\n\nReport This Error In @TechZBots_Support \n\n`{logo}`")
      
      await x.edit("`üîÑ Done Generated... Now Sending You`")
      logo_id = logo.replace("https://telegra.ph//file/","").replace(".jpg","").strip()
      await message.reply_photo(logo,caption="**üñº Logo Generated By @Nandhabots**",reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton(text="Upload As File üìÅ", callback_data=f"flogo {logo_id}")]]))
      await x.delete()
      
